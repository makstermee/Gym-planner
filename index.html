<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trening Pro v5 ğŸŒ (Cloud Sync)</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<!-- 1. Biblioteki Firebase SDK (Stara wersja 8.x jest kompatybilna z CDN) -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<!-- 2. TWOJA UNIKALNA KONFIGURACJA ZAINICJALIZOWANA -->
<script id="firebase-config">
  // Twoje dane konfiguracyjne z Firebase Console:
  const firebaseConfig = {
    apiKey: "AIzaSyCacBxUhSiqaaCBrmVVKluMHMs3iMpR_cA",
    authDomain: "pro-plan-e6f00.firebaseapp.com",
    databaseURL: "https://pro-plan-e6f00-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "pro-plan-e6f00",
    storageBucket: "pro-plan-e6f00.firebasestorage.app",
    messagingSenderId: "887703996706",
    appId: "1:887703996706:web:a0f06602408f4307697d7b"
  };

  // Inicjalizacja Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.database();
</script>

<header class="top">
  <h1>Trening Pro <span id="welcomeMsg"></span></h1>
  <!-- Globalny timer sesji -->
  <div id="masterTimerDisplay" class="master-timer">00:00:00</div>
</header>

<main class="container">

  <!-- ============================================= -->
  <!-- Panel Logowania/Rejestracji (NOWY PANEL AUTH) -->
  <!-- ============================================= -->
  <section id="panel-auth" class="panel">
    <h2>Zaloguj lub Zarejestruj ğŸ”</h2>
    <div class="input-group">
        <label for="authEmail">E-mail:</label>
        <input id="authEmail" type="email" placeholder="E-mail" required />
        <label for="authPassword">HasÅ‚o:</label>
        <input id="authPassword" type="password" placeholder="HasÅ‚o (min. 6 znakÃ³w)" required />
    </div>

    <div class="button-row">
        <button id="loginBtn" class="btn-success">Zaloguj</button>
        <button id="registerBtn" class="btn-secondary">Zarejestruj</button>
    </div>
    <p id="authError" style="color: var(--danger); margin-top: 15px;"></p>
  </section>

  <!-- ============================================= -->
  <!-- Panel GÅ‚Ã³wny (Lista Dni Tygodnia) -->
  <!-- ============================================= -->
  <section id="panel-main" class="panel">
    <h2>Plany Treningowe</h2>
    <div id="dayList" class="day-list">
      <!-- Dni tygodnia bÄ™dÄ… wstrzykniÄ™te przez JS -->
    </div>
  </section>

  <!-- ============================================= -->
  <!-- Panel PodglÄ…du Planu (Detale) -->
  <!-- ============================================= -->
  <section id="panel-plan-details" class="panel">
    <h2 id="planDetailsTitle">Plan: ...</h2>
    <div id="planDetailsList" class="exercise-list">
      <!-- Lista Ä‡wiczeÅ„ z planu bÄ™dzie tutaj -->
    </div>
    <div class="button-row">
      <button id="backToMainBtn" class="btn-secondary">WrÃ³Ä‡</button>
      <button id="editPlanBtn">Edytuj Plan</button>
      <button id="startWorkoutBtn" class="btn-success">Zacznij Trening</button>
    </div>
  </section>

  <!-- ============================================= -->
  <!-- Panel Edycji Planu -->
  <!-- ============================================= -->
  <section id="panel-edit-plan" class="panel">
    <h2 id="editPlanTitle">Edytuj: ...</h2>
    <div class="input-row edit-form">
      <input id="exName" placeholder="Nazwa Ä‡wiczenia" />
      <input id="exTargetSets" type="number" min="1" placeholder="Serie (cel)" />
      <input id="exTargetReps" type="number" min="1" placeholder="Powt. (cel)" />
      <button id="addExerciseBtn">Dodaj</button>
    </div>
    <div id="editPlanList" class="exercise-list">
      <!-- Lista Ä‡wiczeÅ„ do edycji (z przyciskami 'UsuÅ„') -->
    </div>
    <div class="button-row">
      <button id="savePlanChangesBtn" class="btn-secondary">Zapisz i WrÃ³Ä‡</button>
    </div>
  </section>

  <!-- ============================================= -->
  <!-- Panel Aktywnego Treningu (Sesja) -->
  <!-- ============================================= -->
  <section id="panel-active-workout" class="panel">
    <h2 id="activeWorkoutTitle">Trening: ...</h2>
    <div id="activeWorkoutList" class="workout-list-container">
      <!-- Karty Ä‡wiczeÅ„ do logowania serii bÄ™dÄ… tutaj -->
    </div>
    <button id="finishWorkoutBtn" class="btn-danger">ZakoÅ„cz i Zapisz Trening</button>
  </section>


  <!-- ============================================= -->
  <!-- Panel: Historia -->
  <!-- ============================================= -->
  <section id="panel-history" class="panel">
    <h2>Historia i logi ğŸ“œ</h2>
    <div id="logArea" class="log-area"></div>
    <div class="input-row action-row">
      <button id="clearHistory" class="btn-secondary">WyczyÅ›Ä‡</button>
      <button id="exportBtn">Eksport JSON</button>
      <button id="importBtn">Import JSON</button>
      <input type="file" id="fileInput" style="display:none" accept=".json">
    </div>
  </section>

  <!-- ============================================= -->
  <!-- Panel: Statystyki -->
  <!-- ============================================= -->
  <section id="panel-stats" class="panel">
    <h2>Statystyki ğŸ“ˆ</h2>
    <canvas id="statsChart" height="200"></canvas>
  </section>

  <!-- ============================================= -->
  <!-- Panel: Ustawienia -->
  <!-- ============================================= -->
  <section id="panel-settings" class="panel">
    <h2>Ustawienia âš™ï¸</h2>
    <p>Aktualnie zalogowany: <strong id="loggedUserEmail"></strong></p>
    <label for="themeSelect">Motyw:</label>
    <select id="themeSelect">
      <option value="light">Jasny</option>
      <option value="dark">Ciemny</option>
    </select>
    <button id="logoutBtn" class="btn-danger">Wyloguj i ZmieÅ„ Konto</button>
  </section>

</main>

<!-- Dolne menu -->
<nav class="bottom-nav">
  <button data-panel="panel-main">ğŸ‹ï¸â€â™‚ï¸ Plany</button>
  <button data-panel="panel-history">ğŸ“œ Historia</button>
  <button data-panel="panel-stats">ğŸ“ˆ Statystyki</button>
  <button data-panel="panel-settings">âš™ï¸ Ustawienia</button>
</nav>

<script src="app.js"></script>
</body>
</html>

